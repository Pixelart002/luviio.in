{% extends "app/base.html" %}
{% import "macros/layout/elements.html" as Layout %}

{% block title %}Luviio | System Documentation{% endblock %}

{% block content %}
{# Beast Level Section Wrapper #}
{% call Layout.render_section(id="docs-main", class="bg-white") %}

<div class="max-w-4xl mx-auto">
  <header class="mb-12 border-b border-slate-100 pb-8">
    <h1 class="text-5xl font-black text-slate-900 tracking-tighter mb-4">
      System Architecture <span class="text-indigo-600">v1.0</span>
    </h1>
    <p class="text-lg text-slate-500 font-medium">Enterprise-grade foundation documentation for Luviio.in</p>
  </header>
  
  {# 1. Workflow Documentation #}
  {% call Layout.render_article(title="1. Core Workflow Pipeline", class="mb-16") %}
  <div class="overflow-x-auto rounded-xl border border-slate-200 shadow-sm mb-6">
    <table class="w-full text-left text-sm">
      <thead class="bg-slate-50 text-slate-600 font-bold uppercase tracking-wider">
        <tr>
          <th class="px-6 py-4">Step</th>
          <th class="px-6 py-4">Phase</th>
          <th class="px-6 py-4">Action Item</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-slate-100">
        <tr>
          <td class="px-6 py-4 font-bold text-indigo-600">01</td>
          <td class="px-6 py-4">Initialization</td>
          <td class="px-6 py-4 text-slate-600 text-pretty">Macros setup in <code>/macros/layout/</code>. Strict zero-hardcoding rule.</td>
        </tr>
        <tr>
          <td class="px-6 py-4 font-bold text-indigo-600">02</td>
          <td class="px-6 py-4">Resources</td>
          <td class="px-6 py-4 text-slate-600">Loading GSAP 3.12, Unpoly 3.0, and Tailwind via high-end CDNs.</td>
        </tr>
        <tr>
          <td class="px-6 py-4 font-bold text-indigo-600">03</td>
          <td class="px-6 py-4">Advanced Logic</td>
          <td class="px-6 py-4 text-slate-600">Integrating FastAPI templates with Jinja 3.1 scoping rules.</td>
        </tr>
      </tbody>
    </table>
  </div>
  {% endcall %}
  
  {# 2. Strict Rules Documentation #}
  {% call Layout.render_article(title="2. The Beast Rules (Strict)", class="mb-16") %}
  <ul class="space-y-4">
    <li class="flex gap-4 items-start p-4 bg-slate-50 rounded-lg">
      <span class="h-6 w-6 rounded-full bg-green-500 text-white flex items-center justify-center shrink-0 mt-1">✓</span>
      <div>
        <strong class="text-slate-900 block">Brevity over Verbosity</strong>
        <p class="text-slate-600 text-sm">Har class ka purpose hona chahiye. Redundant utility classes allow nahi hain.</p>
      </div>
    </li>
    <li class="flex gap-4 items-start p-4 bg-slate-50 rounded-lg">
      <span class="h-6 w-6 rounded-full bg-green-500 text-white flex items-center justify-center shrink-0 mt-1">✓</span>
      <div>
        <strong class="text-slate-900 block">Unpoly Framework</strong>
        <p class="text-slate-600 text-sm">Navigation strictly <code>up-follow</code> ke through hogi for SPA experience.</p>
      </div>
    </li>
    <li class="flex gap-4 items-start p-4 bg-slate-50 rounded-lg">
      <span class="h-6 w-6 rounded-full bg-green-500 text-white flex items-center justify-center shrink-0 mt-1">✓</span>
      <div>
        <strong class="text-slate-900 block">Security & Error Handling</strong>
        <p class="text-slate-600 text-sm">All backend routes must use <code>try-except</code> blocks with proper <code>logger.error</code> calls.</p>
      </div>
    </li>
  </ul>
  {% endcall %}
  
  {# 3. File Hierarchy #}
  {% call Layout.render_article(title="3. Directory Hierarchy", class="mb-8") %}
  <pre class="bg-slate-900 text-indigo-300 p-6 rounded-xl font-mono text-sm leading-relaxed overflow-x-auto">
api/
├── main.py (FastAPI Logic)
├── templates/
│   ├── app/
│   │   ├── base.html (Skeleton)
│   │   └── pages/ (Route specific)
│   └── macros/
│       └── layout/ (Semantic Elements)
└── static/ (Assets)
                </pre>
  {% endcall %}
</div>

{% endcall %}

<script>
  // Documentation-specific animations
  gsap.from("tr", {
    opacity: 0,
    x: -20,
    duration: 0.5,
    stagger: 0.1,
    ease: "power2.out",
    scrollTrigger: {
      trigger: "table",
      start: "top 80%"
    }
  });
</script>
{% endblock %}