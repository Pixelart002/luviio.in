{% extends "app/base.html" %}

{% from "macros/index_page/header.html" import render_header %}
{% from "macros/index_page/drawer.html" import render_drawer %}

{% block header %}
{{ render_header(state) }}
{% endblock %}

{% block content %}
<!-- Render the hidden drawer content -->
{{ render_drawer(state) }}

<!-- Your page content (hero, etc.) -->
<div class="max-w-7xl mx-auto px-4 py-12">
  <h1 class="text-5xl font-serif font-bold text-gray-900">Welcome to Luviio</h1>
  <p class="text-lg text-gray-600 mt-4">Click the hamburger menu to open the drawer.</p>
</div>
{% endblock %}

{% block scripts %}
<script>
  // Optional: GSAP hamburger animation (if you want the icon to animate)
  if (typeof gsap !== 'undefined') {
    up.on('up:layer:opened', (event) => {
      if (event.layer.mode === 'drawer') {
        const btn = document.querySelector('.hamburger-btn');
        if (btn) {
          const spans = btn.querySelectorAll('span');
          if (spans.length === 3) {
            gsap.to(spans[0], { rotate: 45, y: 9, duration: 0.3 });
            gsap.to(spans[1], { opacity: 0, x: -10, duration: 0.3 });
            gsap.to(spans[2], { rotate: -45, y: -9, duration: 0.3 });
          }
        }
      }
    });
    
    up.on('up:layer:dismissed', (event) => {
      const btn = document.querySelector('.hamburger-btn');
      if (btn) {
        const spans = btn.querySelectorAll('span');
        if (spans.length === 3) {
          gsap.to(spans[0], { rotate: 0, y: 0, duration: 0.3 });
          gsap.to(spans[1], { opacity: 1, x: 0, duration: 0.3 });
          gsap.to(spans[2], { rotate: 0, y: 0, duration: 0.3 });
        }
      }
    });
  }
</script>
{% endblock %}