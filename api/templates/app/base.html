<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Aura Bath | Premium Accessories{% endblock %}</title>
    
    <link href="/static/css/main.css" rel="stylesheet">
    
    <script src="https://unpkg.com/unpoly@3.8.0/unpoly.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/unpoly@3.8.0/unpoly.min.css">
    
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/ScrollTrigger.min.js"></script>
</head>
<body class="bg-slate-50 text-slate-900 antialiased overflow-x-hidden">

    {% block global_header %}
        {% endblock %}

    {% block global_sidebar %}
        {% endblock %}

    <main id="app-main" up-main class="relative z-0 min-h-screen pt-20 pb-24">
        {% block content %}
        {% endblock %}
    </main>

    {% block global_footer %}
        {% endblock %}

    <script>
        // Register ScrollTrigger
        gsap.registerPlugin(ScrollTrigger);

        // BEAST MODE: Unpoly Compilers
        // Yeh ensure karega ki jab bhi Unpoly naya page inject kare, GSAP animations wapis chalein.
        up.compiler('[gsap-stagger-in]', function(element) {
            const items = element.querySelectorAll('.gsap-item');
            gsap.fromTo(items, 
                { y: 40, opacity: 0 }, 
                { y: 0, opacity: 1, duration: 0.6, stagger: 0.1, ease: "power3.out", clearProps: "all" }
            );
        });

        up.compiler('[gsap-scroll-reveal]', function(element) {
            gsap.fromTo(element, 
                { y: 50, opacity: 0 }, 
                { 
                    y: 0, opacity: 1, duration: 0.8, ease: "power2.out", clearProps: "all",
                    scrollTrigger: {
                        trigger: element,
                        start: "top 85%", // Triggers when element is 85% down the viewport
                        toggleActions: "play none none reverse"
                    }
                }
            );
        });

        // Global Unpoly config
        up.log.config.banner = false; // Keep console clean
        up.network.config.progressBar = true; // Zomato style top loading bar
    </script>
</body>
</html>