{# api/templates/macros/auth_macros.html #}

{# --- MACRO: Social Button --- #}
{# Flex-1 ensures equal width. min-w-0 prevents text overflow. h-12 for touch target. #}
{% macro social_button(provider, icon_class, label) %}
<button type="button" 
        onclick="signInWithProvider('{{ provider }}')"
        class="btn btn-outline border-zinc-700 bg-zinc-900/50 hover:bg-white hover:text-black hover:border-white text-zinc-300 flex-1 min-w-0 gap-2 normal-case font-medium h-12 text-sm sm:text-base transition-all rounded-xl">
    <i class="{{ icon_class }} text-lg"></i> 
    <span class="truncate">{{ label }}</span>
</button>
{% endmacro %}

{# --- MACRO: Input Field --- #}
{# w-full forces full width. text-base prevents zoom on iPhone. #}
{% macro input_field(id, type, placeholder, icon_class) %}
<div class="form-control w-full mb-4">
    <div class="relative w-full group">
        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none text-zinc-500 group-focus-within:text-white transition-colors">
            <i class="{{ icon_class }} text-xl"></i>
        </div>
        
        <input type="{{ type }}" id="{{ id }}" placeholder="{{ placeholder }}" required 
               class="input input-bordered w-full pl-12 bg-zinc-900/80 border-zinc-700 focus:border-white focus:bg-black text-white placeholder-zinc-500 rounded-xl h-12 text-base shadow-sm transition-all"
               {% if type == 'email' %}autocomplete="email"{% endif %}
               {% if type == 'password' %}autocomplete="current-password"{% endif %}>
    </div>
</div>
{% endmacro %}

{# --- MACRO: Primary Button (Signin/Signup) --- #}
{# btn-block: Full Width. h-12: Comfortable height. rounded-full: Modern look. #}
{% macro primary_button(text, loader_id='btnLoader') %}
<button type="submit" id="authBtn" 
        class="btn btn-block bg-white hover:bg-zinc-200 text-black border-none rounded-full font-bold text-base h-12 mt-2 shadow-xl shadow-white/5 active:scale-95 transition-transform disabled:opacity-70 disabled:scale-100">
    <span id="btnText">{{ text }}</span>
    <span id="{{ loader_id }}" class="loading loading-spinner loading-sm hidden text-black"></span>
</button>
{% endmacro %}