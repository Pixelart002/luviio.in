{% macro init_gsap() -%}
<script>
  document.addEventListener("DOMContentLoaded", () => {
    gsap.registerPlugin(ScrollTrigger);
    
    // 1. Hero Entrance Timeline
    const tl = gsap.timeline({ defaults: { ease: "power4.out" } });
    
    tl.to(".hero-parallax", { scale: 1, duration: 3 })
      .from(".split-text", { y: 150, opacity: 0, duration: 1.8, skewY: 10 }, "-=2.5")
      .to(".hero-sub", { opacity: 1, y: 0, duration: 1 }, "-=1.5")
      .to(".hero-cta", { opacity: 1, duration: 1 }, "-=1")
      .to(".scroll-line", { scaleY: 1, duration: 1, opacity: 1 }, "-=0.5");
    
    // 2. Parallax Effect on Scroll
    gsap.to(".hero-parallax", {
      scrollTrigger: {
        trigger: "#hero",
        start: "top top",
        end: "bottom top",
        scrub: true
      },
      y: 200,
      scale: 1.2
    });
    
    // 3. Image Reveal Animation
    gsap.to(".img-parallax", {
      scrollTrigger: {
        trigger: ".reveal-img",
        start: "top 80%",
        scrub: 1
      },
      scale: 1,
      y: -50
    });
    
    // 4. Aside & Content Stagger
    gsap.to(".aside-reveal", {
      scrollTrigger: {
        trigger: "#hero",
        start: "bottom center",
      },
      opacity: 1,
      x: 0,
      duration: 1.5,
      ease: "expo.out"
    });
  });
</script>
{%- endmacro %}