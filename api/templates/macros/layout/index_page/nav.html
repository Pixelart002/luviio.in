{% macro render_nav(active_page='home', items=[]) %}
{# 
    NAV OVERLAY MACRO
    Logic: Sits on top of the fixed header using Z-Index 50.
    'pointer-events-none' on container prevents blocking the Header underneath.
#}
<div class="fixed top-0 left-0 w-full h-16 z-50 flex items-center justify-center pointer-events-none">

    {# --- DESKTOP: Floating Pill Nav --- #}
    <nav class="hidden md:flex items-center p-1 gap-1 pointer-events-auto bg-white/60 backdrop-blur-md border border-slate-200/50 rounded-full shadow-sm transition-all hover:shadow-md hover:bg-white/90">
        {% for item in items %}
            <a href="{{ item.url }}" 
               up-target="main"
               up-transition="cross-fade"
               up-preload
               class="px-4 py-1.5 rounded-full text-sm font-medium transition-all duration-300
                      {% if active_page == item.id or active_page == item.url %}
                          bg-indigo-600 text-white shadow-indigo-200 shadow-md transform scale-105
                      {% else %}
                          text-slate-500 hover:text-indigo-600 hover:bg-indigo-50/50
                      {% endif %}">
                {{ item.label }}
            </a>
        {% endfor %}
    </nav>

    {# --- MOBILE: Hamburger Trigger (Left Side) --- #}
    {# Positioned left to balance the User Profile on the right #}
    <div class="md:hidden absolute left-4 pointer-events-auto">
        <button class="p-2 text-slate-600 hover:text-indigo-600 hover:bg-indigo-50 rounded-lg transition-colors" 
                aria-label="Open Menu"
                up-layer="drawer" 
                up-target=".mobile-menu-content">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="2">
                <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h7"></path>
            </svg>
        </button>
    </div>

</div>
{% endmacro %}